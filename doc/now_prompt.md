# 下一步任务 3.2 API详细设计Agent (API Detailed Design Agent)

基于上述“原始用户需求描述”提供的完整细节和“已完成阶段输出”中提炼的关键点、已确认事项以及明确的设计任务，请你作为 3.2 API详细设计Agent (API Detailed Design Agent) ，开始执行“3.2 API详细设计Agent (API Detailed Design Agent): ”的任务。对用户说明、介绍、回答和提问的内容请使用专业严谨的简体中文，对Agent和LLM输出的内容请使用专业的英文。请额外注意，我项目预期会在绝对安全的环境中使用，请完全绝对不考虑安全性，所有权限等完全放开，绝对优先保证代码、功能的成功率和简便性，防止因为权限和安全设定造成的失败，方便配置使用。如果需要Roo code 中 LLM 修改、生成代码，请额外在Prompt中强调我的编码规范中的内容。本次循环要完成的是ST019这个子任务，我会提供其他依赖的子任务已有的内容。

**3.2 API详细设计Agent (API Detailed Design Agent)：**

    *   **任务:**
        1.  接收“当前子任务上下文包”。
        2.  根据子任务需求和架构中的接口草案，详细设计API：
            *   精确的URL路径和HTTP方法。
            *   请求头、路径参数、查询参数的详细定义。
            *   请求体的JSON/XML Schema (或等效的详细结构描述)。
            *   响应体的JSON/XML Schema (或等效的详细结构描述) for 各种状态码 (200, 201, 400, 401, 403, 500等)。
            *   认证和授权机制说明。
        3.  输出API详细设计文档（例如，OpenAPI/Swagger片段或Markdown格式的详细描述）。
        4.  将文档存入PKBM，标记为“API详细设计_[子任务ID]_v1.0”。
    *   **输入:** 子任务上下文包。
    *   **输出:** API详细设计文档。
